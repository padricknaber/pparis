var SHOP=SHOP||{},SH=SHOP;!function(p,f){"use strict";p.msisdn="",p.isDevModeActive=!1,p.isNoneLoginSale=!1,p.formPath="pasaj/sepetim",p.siteAssetsDomain="",p.pricingScrollTopMargin=150;var e=f("#sh_config");p.msisdn=f.trim(f("#current_msisdn").data("msisdn"))||window.visitormsisdn,p.isDevModeActive=e.data("devMode"),p.siteAssetsDomain=e.data("siteAssets"),p.pushTealiumState=function(e,t){try{var a=window.utagStatus;if("ready"!==a)return void("error"!==a&&setTimeout(function(){p.pushTealiumState(e,t)},1e3));var n=utag_data||{};window.utag;if("string"==typeof e?n.pageName=!1===t?e:window.location.pathname+"/"+e:n=f.extend(n,e),JSON&&JSON.stringify(n),n.event="GAVirtual",dataLayer.push(n),"undefined"!=typeof RbmServerUtil&&RbmServerUtil.pushToShine(n),null!=n&&null!=n.recommendationClick&&1==n.recommendationClick){var i=n.offerURL,s=n.source,o=i.split("?"),r=!1,c=f("<form/>");if(c.attr("action",o[0]),void 0!==o[1])for(var l=o[1].split("&"),d=0;d<l.length;d++){var u=l[d].split("=");"place"==u[0]&&(r=!0),c.append(f("<input/>").attr("name",u[0]).attr("value",u[1]))}0==r&&c.append(f("<input/>").attr("name","place").attr("value",s)),f(document.body).append(c),setTimeout(function(){c.submit()},1e3)}}catch(e){console.log(e)}},p.addUrlParameter=function(e,a,t){t&&f(e).find("a").each(function(){var e,t=-1!=this.href.indexOf("?")?"&":"?";-1!=this.href.indexOf("#")?(e=this.href.substring(this.href.indexOf("#"),this.href.length),this.href=this.href.substring(0,this.href.indexOf("#"))+t+"place="+a+e):this.href=this.href+t+"place="+a})},p.isUserLoggedIn=function(){return p.msisdn&&0<p.msisdn.length},p.getFormattedPrice=function(e){var e=e.toString().replace(".",","),t=e.substr(e.indexOf(",")+1);return"00"===t||"0"===t?e.substr(0,e.indexOf(",")):e},p.getServiceResponse=function(n,e){if("string"!=typeof n)throw"getJSON() : this method needs url argument";var i=e||{},e={type:i.type||"POST",url:n,headers:i.headers||{"X-Tcell-Ajax":"true"},cache:!1!==i.cache,data:i.postdata||{}};i.dataType&&(e.dataType=i.dataType),i.jsonpCallback&&(e.jsonpCallback=i.jsonpCallback),f.ajax(e).done(function(e){f.isFunction(i.callback)&&i.callback(e)}).fail(function(e,t,a){if(0!==e.status&&0!==e.readyState){if(!f.isFunction(i.fail))throw!1!==i.popErrorMessages&&p.showErrorModal(),"ajax call to "+n+" has failed! Error message: "+a;i.fail(e,t,a)}})},p.getJSONObject=function(e,t){var t=t||{},a=t.callback;if(!f.isFunction(a))throw"getJSONObject() : this method needs _callback parameter";t.callback=function(e){"string"==typeof e&&(e=f.parseJSON(e)),a(e)},this.getServiceResponse(e,t)},p.getJSONPObject=function(e,t){t=t||{};t.dataType="jsonp",t.jsonpCallback="callback",p.getServiceResponse(e,t)},p.getOmccToken=function(e,t,a){var n,i,s=t||{},o='<?xml version="1.0"?><ccRequest>',r=s.callback,c=s.fail;for(n in s.postdata)o+="<"+n+">"+s.postdata[n]+"</"+n+">";s.postdata=o+"</ccRequest>",s.headers={"X-TURKCELL":"pingpong","Content-Type":"application/xml"},s.callback=function(e){e=f.parseJSON(e);"0"===e.operationResultCode?f.isFunction(r)&&r(e.token):f.isFunction(c)&&c(e.operationResultDescription)},window.XDomainRequest?((i=new XDomainRequest).open("POST",e),i.onload=function(){s.callback(i.responseText)},i.send(s.postdata)):p.getServiceResponse(e,s)},p.scrollPageToItem=function(e,t,a){e="string"==typeof e?f(e):e;if(t=t||0,a=a||"fast",!e.size())throw"scrollToItem() : passed id could not found";f("html, body").animate({scrollTop:e.offset().top-t+"px"},a)},p.showSuccessModal=function(e){},p.getSecureUrlProtocol=function(){return p.isDevModeActive?"http:":"https:"},p.createFullUrlFromRelativePath=function(e){e=p.getSecureUrlProtocol()+"//"+location.host+e;return p.isDevModeActive&&!p.isNoneLoginSale&&(e+="?msisdn="+p.msisdn),e},p.generateValidateMessagesObject=function(e){var n={};return f("input, select, textarea",e).each(function(){var e=f(this),t=e.attr("name"),a=e.data("required"),e=e.data("validateMessages"),e=e?e:{};a&&(e.required=a,e.minlength=a,e.valueNotZero=a),f.isEmptyObject(e)||(n[t]=e)}),n}}(SHOP,jQuery);